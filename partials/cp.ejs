<section id="competitive-programming" class="section-light">
    <div class="container text-center" data-aos="fade-up">
        <h3>CP Scores</h3>
        <p class="section-subtitle">Don't Judge My Coding Skills by These</p>
        <div class="row justify-content-center">
            <!-- LeetCode Score -->
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 skill-box" data-aos="zoom-in">
                <div class="score-card">
                    <h4>LeetCode</h4>
                    <div class="score-number" data-target="1586">0</div>
                </div>
            </div>
            <!-- Codechef Score -->
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 skill-box" data-aos="zoom-in" data-aos-delay="200">
                <div class="score-card">
                    <h4>Codechef</h4>

                    <div class="score-number" data-target="1508">0</div>
                </div>
            </div>
            <!-- Codeforces Score -->
            <div class="col-lg-4 col-md-4 col-sm-6 col-6 skill-box" data-aos="zoom-in" data-aos-delay="400">
                <div class="score-card">
                    <h4>Codeforces</h4>

                    <div class="score-number" data-target="860">0</div>
                </div>
            </div>
        </div>
    </div>
</section>



<script>
    // script.js

    // Function to check if an element is in viewport
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.top <= (window.innerHeight || document.documentElement.clientHeight)
        );
    }

    // Function to animate the score numbers when in viewport
    function animateScoreNumbers() {
        const scoreNumbers = document.querySelectorAll('.score-number');
        scoreNumbers.forEach(scoreNumber => {
            const target = +scoreNumber.getAttribute('data-target');
            const increment = target / 100; // Adjust the increment for animation speed

            let current = 0;

            const updateScore = () => {
                scoreNumber.innerText = Math.round(current);
                if (current < target) {
                    current += increment;
                    setTimeout(updateScore, 20); // Adjust timeout for smoother animation
                } else {
                    scoreNumber.innerText = target;
                }
            }

            updateScore();
        });
    }

    // Check if the section is in viewport and trigger animation
    function checkViewport() {
        const section = document.getElementById('competitive-programming');
        if (isInViewport(section)) {
            animateScoreNumbers();
            window.removeEventListener('scroll', checkViewport); // Remove listener once animated
        }
    }

    // Listen for scroll events to check if the section is in viewport
    window.addEventListener('scroll', checkViewport);


</script>